<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Big Bird‰º†Â•á‰πãAUÁöÑÂ•áÂ¶ô‰πãÊóÖ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            touch-action: none;
        }

        body {
            background: #f0f8ff;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            height: 100vh;
        }

        #status {
            padding: 10px;
            font-family: Arial;
            font-size: 14px;
            background: rgba(255, 255, 255, 0.9);
            display: flex;
            justify-content: space-around;
        }

        #gameArea {
            flex: 1;
            position: relative;
            background: #e0f0ff;
            touch-action: none;
        }

        .player {
            position: absolute;
            transition: transform 0.1s;
            image-rendering: pixelated;
        }

        .silver { background: #c0c0c0; }
        .golden { background: #ffd700; }
        .platinum { background: #e5e4e2; }

        .gold {
            width: 5vw;
            height: 5vw;
            background: gold;
            position: absolute;
            border-radius: 50%;
            animation: pulse 1s infinite;
        }

        .bot {
            width: 6vw;
            height: 6vw;
            background: #666;
            position: absolute;
            border-radius: 50%;
            transition: all 0.3s;
        }

        .flower {
            width: 6vw;
            height: 6vw;
            position: absolute;
            background-size: contain;
        }

        .thick { background-image: url('data:image/svg+xml;utf8,<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><circle cx="50" cy="50" r="45" fill="%23ff1493"/></svg>'); }
        .thin { background-image: url('data:image/svg+xml;utf8,<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><circle cx="50" cy="50" r="30" fill="%23ff69b4"/></svg>'); }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }

        #orientationWarning {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            color: white;
            justify-content: center;
            align-items: center;
            font-size: 24px;
            text-align: center;
        }

        @media (orientation: portrait) {
            #orientationWarning {
                display: flex;
            }
        }
    </style>
</head>
<body>
    <div id="status">
        <div>üí∞<span id="goldCount">0</span></div>
        <div>‚öîÔ∏è<span id="level">Èì∂Âº∫</span></div>
        <div>üå∫<span id="flowerThick">0</span></div>
        <div>üå∏<span id="flowerThin">0</span></div>
    </div>
    <div id="gameArea"></div>
    <div id="orientationWarning">ËØ∑Ê®™Â±èÊ∏∏Êàè‰ª•Ëé∑ÂæóÊúÄ‰Ω≥‰ΩìÈ™å</div>

    <script>
        const player = document.createElement('div');
        player.className = 'player silver';
        const gameArea = document.getElementById('gameArea');
        
        // ÂàùÂßãÂåñÊ∏∏ÊàèÂèÇÊï∞
        let goldCount = 0, flowerThick = 0, flowerThin = 0;
        let playerSpeed = 8, level = 1;
        let touchStartX = 0, touchStartY = 0;
        let isTouching = false;

        // ÂàùÂßãÂåñÁé©ÂÆ∂‰ΩçÁΩÆ
        function initPlayer() {
            player.style.width = player.style.height = '8vw';
            player.style.left = '45%';
            player.style.top = '45%';
            gameArea.appendChild(player);
        }

        // Ëß¶Êéß‰∫ã‰ª∂Â§ÑÁêÜ
        gameArea.addEventListener('touchstart', (e) => {
            isTouching = true;
            touchStartX = e.touches[0].clientX;
            touchStartY = e.touches[0].clientY;
        });

        gameArea.addEventListener('touchmove', (e) => {
            if (!isTouching) return;
            e.preventDefault();
            
            const deltaX = e.touches[0].clientX - touchStartX;
            const deltaY = e.touches[0].clientY - touchStartY;
            
            const rect = gameArea.getBoundingClientRect();
            let newX = parseFloat(player.style.left) + (deltaX / rect.width * 100);
            let newY = parseFloat(player.style.top) + (deltaY / rect.height * 100);
            
            player.style.left = Math.max(0, Math.min(92, newX)) + '%';
            player.style.top = Math.max(0, Math.min(92, newY)) + '%';
            
            touchStartX = e.touches[0].clientX;
            touchStartY = e.touches[0].clientY;
        });

        gameArea.addEventListener('touchend', () => isTouching = false);

        // ÁîüÊàêÊ∏∏ÊàèÂÖÉÁ¥†
        function spawnElement(className, clickHandler) {
            const elem = document.createElement('div');
            elem.className = className;
            elem.style.left = Math.random() * 92 + '%';
            elem.style.top = Math.random() * 92 + '%';
            elem.addEventListener('click', clickHandler);
            gameArea.appendChild(elem);
            setTimeout(() => elem.remove(), 5000);
        }

        // Êî∂ÈõÜÈáëÂ≠ê
        function collectGold(e) {
            goldCount += e.target.classList.contains('big') ? 3 : 1;
            document.getElementById('goldCount').textContent = goldCount;
            e.target.remove();
            
            if (goldCount >= 30 && level < 3) {
                level = 3;
                player.className = 'player platinum';
                player.style.width = player.style.height = '12vw';
            } else if (goldCount >= 10 && level < 2) {
                level = 2;
                player.className = 'player golden';
                player.style.width = player.style.height = '10vw';
            }
            document.getElementById('level').textContent = ['Èì∂Âº∫', 'ÈáëÂº∫', 'ÈìÇÈáë'][level-1];
            
            // ÈúáÂä®ÂèçÈ¶à
            navigator.vibrate?.(50);
        }

        // Êî∂ÈõÜËä±Êúµ
        function collectFlower(e) {
            if (e.target.classList.contains('thick')) {
                flowerThick++;
                playerSpeed += 3;
                setTimeout(() => playerSpeed -= 3, 5000);
            } else {
                flowerThin++;
                document.querySelectorAll('.bot').forEach(bot => {
                    bot.style.transform = 'scale(0.7)';
                    setTimeout(() => bot.style.transform = '', 5000);
                });
            }
            document.getElementById('flowerThick').textContent = flowerThick;
            document.getElementById('flowerThin').textContent = flowerThin;
            e.target.remove();
        }

        // ‰∫∫Êú∫AI
        function botAI() {
            document.querySelectorAll('.bot').forEach(bot => {
                const dx = Math.random() * 40 - 20;
                const dy = Math.random() * 40 - 20;
                const newX = Math.max(0, Math.min(92, parseFloat(bot.style.left) + dx));
                const newY = Math.max(0, Math.min(92, parseFloat(bot.style.top) + dy));
                bot.style.left = newX + '%';
                bot.style.top = newY + '%';
            });
        }

        // Ê∏∏ÊàèÂàùÂßãÂåñ
        function initGame() {
            initPlayer();
            
            // ÁîüÊàêÂàùÂßãÂÖÉÁ¥†
            setInterval(() => {
                spawnElement('gold' + (Math.random() > 0.8 ? ' big' : ''), collectGold);
            }, 2000);

            setInterval(() => {
                spawnElement('flower ' + (Math.random() > 0.5 ? 'thick' : 'thin'), collectFlower);
            }, 5000);

            // Ê∑ªÂä†‰∫∫Êú∫
            setInterval(() => {
                if(document.querySelectorAll('.bot').length < 3) {
                    const bot = document.createElement('div');
                    bot.className = 'bot';
                    bot.style.left = Math.random() * 92 + '%';
                    bot.style.top = Math.random() * 92 + '%';
                    gameArea.appendChild(bot);
                }
            }, 8000);

            // Ê∏∏ÊàèÂæ™ÁéØ
            setInterval(botAI, 1000);
        }

        // ÂêØÂä®Ê∏∏Êàè
        initGame();
    </script>
</body>
</html>